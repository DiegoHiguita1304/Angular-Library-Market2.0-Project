<div class="container py-5">
  <h2 class="mb-4">Shopping Cart</h2>
  <div class="table-responsive">
    <table class="table">
      <thead class="thead-light">
        <tr>
          <th scope="col">Titulo</th>
          <th scope="col">Categoria</th>
          <th scope="col">Precio</th>
          <th scope="col">Cantidad</th>
          <th scope="col">Total</th>
          <th scope="col">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of items">
          <td>{{ item.titulo }}</td>
          <td>{{ item.categorias_nombre }}</td>
          <td>{{ item.precio | currency }}</td>
          <td>
            <div class="d-flex align-items-center">
              <button class="btn btn-link" (click)="decreaseQuantity(item)">
                <i class="fas fa-minus"></i>
              </button>
              <input type="number" min="1" [(ngModel)]="item.quantity" class="form-control form-control-sm mx-2" style="width: 50px;">
              <button class="btn btn-link" (click)="increaseQuantity(item)">
                <i class="fas fa-plus"></i>
              </button>
            </div>
          </td>
          <td>{{ (item.precio * item.quantity) | currency }}</td>
          <td>
            <button class="btn btn-link text-danger" (click)="removeFromCart(item)">
              <i class="fas fa-trash-alt"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <hr>

  <div class="row">
    <div class="col-md-6">
      <h4>Summary</h4>
      <p>Subtotal: {{ getSubtotal() | currency }}</p>
      <p>Shipping: {{ shipping | currency }}</p>
      <h3>Total: {{ getTotal() | currency }}</h3>
    </div>
    <div class="col-md-6">
      <div class="card p-4">
        <h4>Checkout</h4>
        <form class="checkout-form">
          <div class="mb-3">
            <label for="typeName" class="form-label">Name on card</label>
            <input type="text" id="typeName" class="form-control" placeholder="John Smith">
          </div>
          <div class="mb-3">
            <label for="typeExp" class="form-label">Expiration</label>
            <input type="text" id="typeExp" class="form-control" placeholder="MM/YY">
          </div>
          <div class="mb-3">
            <label for="typeText" class="form-label">Card Number</label>
            <input type="text" id="typeText" class="form-control" placeholder="1111 2222 3333 4444">
          </div>
          <div class="mb-3">
            <label for="typeCvv" class="form-label">CVV</label>
            <input type="password" id="typeCvv" class="form-control" placeholder="•••">
          </div>
          <button type="button" class="btn btn-primary btn-lg btn-block" (click)="checkout()">Proceed to Checkout</button>
        </form>
      </div>
    </div>
  </div>
</div>
